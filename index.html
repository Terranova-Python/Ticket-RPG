<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket RPG</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Add Chart.js -->
</head>
<body>
    <div class="container">
        <header>
            <h1>Ticket RPG</h1>
            <div class="header-right-panel">
                <div class="character-info">
                    <div>Name: <span id="char-name" title="Click to edit name">Hero</span></div>
                    <div>Level: <span id="char-level">1</span></div>
                    <div>XP: <span id="char-xp">0</span> / <span id="xp-to-next-level">100</span></div>
                    <div>Gold: <span id="char-gold">0</span> G</div>
                    <div>Weapon: <span id="char-weapon">Stick</span></div>
                    <div>Armor: <span id="char-armor">Rags</span></div>
                </div>
                <div class="navigation-links">
                    <a href="closed_tickets.html" class="nav-button">Closed</a>
                </div>
            </div>
            </header>
                <main class="main-content">
                    <!-- Ticket Stats Graph Section -->
                    <section class="ticket-stats">
                        <h2>Ticket Overview</h2>
                        <canvas id="ticketChart" width="220" height="120"></canvas>
                        <div id="avg-resolution-time" class="avg-resolution-widget">
                            <strong>Average Resolution Time:</strong> <span id="avg-resolution-value">--</span>
                        </div>
                    </section>
                    <section class="ticket-management">
                        <h2>Active Ticket Dashboard</h2> <button id="open-create-ticket-modal-btn">Create New Ticket</button>
                        <div id="ticket-list" class="ticket-list">
                            </div>
                  </section>

            <section class="boss-lair">
                <h2>Boss Battles</h2>
                <div id="boss-info">
                    <p><strong>Boss:</strong> <span id="boss-name">The Glitch Tyrant</span></p>
                    <p><strong>Status:</strong> <span id="boss-status">Waiting for a challenger...</span></p>
                </div>
                <button id="attack-boss-btn">Attempt to Defeat Boss</button>
                <p id="boss-cooldown-message" class="cooldown-message"></p>
                <div id="boss-battle-log" class="battle-log">
                </div>
            </section>
            <section class="rpg-shop" id="rpg-shop" style="display: none;">
                <h2>Adventurer's Guild Shop</h2>
                <div class="shop-items">
                     <div class="shop-item" data-type="weapon" data-name="Dagger" data-cost="50" data-bonus="5">
                        <p><strong>Dagger</strong> (+5 ATK)</p>
                        <p>Cost: 50 G</p>
                        <button class="buy-item-btn">Buy</button>
                    </div>
                    <div class="shop-item" data-type="weapon" data-name="Short Sword" data-cost="150" data-bonus="15">
                        <p><strong>Short Sword</strong> (+15 ATK)</p>
                        <p>Cost: 150 G</p>
                        <button class="buy-item-btn">Buy</button>
                    </div>
                    <div class="shop-item" data-type="armor" data-name="Leather Vest" data-cost="75" data-bonus="10">
                        <p><strong>Leather Vest</strong> (+10 DEF)</p>
                        <p>Cost: 75 G</p>
                        <button class="buy-item-btn">Buy</button>
                    </div>
                    <div class="shop-item" data-type="armor" data-name="Chainmail" data-cost="200" data-bonus="25">
                        <p><strong>Chainmail</strong> (+25 DEF)</p>
                        <p>Cost: 200 G</p>
                        <button class="buy-item-btn">Buy</button>
                    </div>
                     <div class="shop-item" data-type="weapon" data-name="Mythril Blade" data-cost="500" data-bonus="35">
                        <p><strong>Mythril Blade</strong> (+35 ATK)</p>
                        <p>Cost: 500 G</p>
                        <button class="buy-item-btn">Buy</button>
                    </div>
                    <div class="shop-item" data-type="armor" data-name="Plate Armor" data-cost="600" data-bonus="40">
                        <p><strong>Plate Armor</strong> (+40 DEF)</p>
                        <p>Cost: 600 G</p>
                        <button class="buy-item-btn">Buy</button>
                    </div>
    <div class="shop-item" data-type="weapon" data-name="Dagger" data-cost="50" data-bonus="5">
        <p><strong>Dagger</strong> (+5 ATK)</p>
        <p>Cost: 50 G</p>
        <button class="buy-item-btn">Buy</button>
    </div>
    <!-- ...existing items... -->

    <!-- New, better weapons and armor -->
    <div class="shop-item" data-type="weapon" data-name="Obsidian Greatsword" data-cost="1200" data-bonus="60">
        <p><strong>Obsidian Greatsword</strong> (+60 ATK)</p>
        <p>Cost: 1200 G</p>
        <button class="buy-item-btn">Buy</button>
    </div>
    <div class="shop-item" data-type="weapon" data-name="Celestial Katana" data-cost="2500" data-bonus="100">
        <p><strong>Celestial Katana</strong> (+100 ATK)</p>
        <p>Cost: 2500 G</p>
        <button class="buy-item-btn">Buy</button>
    </div>
    <div class="shop-item" data-type="armor" data-name="Dragonhide Cloak" data-cost="1500" data-bonus="65">
        <p><strong>Dragonhide Cloak</strong> (+65 DEF)</p>
        <p>Cost: 1500 G</p>
        <button class="buy-item-btn">Buy</button>
    </div>
    <div class="shop-item" data-type="armor" data-name="Aegis of Legends" data-cost="3000" data-bonus="110">
        <p><strong>Aegis of Legends</strong> (+110 DEF)</p>
        <p>Cost: 3000 G</p>
        <button class="buy-item-btn">Buy</button>
    </div>
                </div>
                <button id="close-shop-btn">Close Shop</button>
            </section>
            <button id="toggle-shop-btn">Visit Shop</button>

        </main>
        <div id="create-ticket-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn" id="close-create-modal-btn">&times;</span>
                <h2>Create New Ticket</h2>
                <form id="create-ticket-form">
                    <div>
                        <label for="ticket-title">Title:</label>
                        <input type="text" id="ticket-title" required>
                    </div>
                    <div>
                        <label for="ticket-description">Description:</label>
                        <textarea id="ticket-description" rows="4" required></textarea>
                    </div>
                    <button type="submit">Create Ticket</button>
                </form>
            </div>
        </div>
        <div id="ticket-details-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn" id="close-details-modal-btn">&times;</span>
                <h2 id="details-ticket-title">Ticket Title</h2>
                <p><strong>ID:</strong> <span id="details-ticket-id"></span></p>
                <p><strong>Status:</strong> <span id="details-ticket-status"></span></p>
                <p><strong>Reported:</strong> <span id="details-ticket-reported"></span></p>
                <p><strong>Description:</strong></p>
                <p id="details-ticket-description"></p>
                <p><strong>Resolution Time:</strong> <span id="details-ticket-resolution-time">--</span></p>

                <div class="ticket-notes">
                    <h3>Notes:</h3>
                    <ul id="details-ticket-notes"></ul>
                    <div class="add-note-section">
                        <textarea id="new-note-text" rows="3" placeholder="Add a new note..."></textarea>
                        <button id="add-note-btn">Add Note</button>
                    </div>
                </div>
                <div class="ticket-actions">
                    <button id="close-ticket-btn">Close Ticket & Claim XP!</button>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>